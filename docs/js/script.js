"use strict";function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(){var e,t=new function e(){var a=this;_classCallCheck(this,e),_defineProperty(this,"numbersHistoryHandle",function(e){""!==a.currentNumber?(a.numbersHistory.push(Number(a.currentNumber)),a.totalCharactersHistory.push(Number(a.currentNumber))):a.numbersHistory.push(0)}),_defineProperty(this,"operandsHistoryHandle",function(e){a.operandsHistory.push(e),a.operandStatus=!0}),_defineProperty(this,"handleNumbers",function(e){a.currentNumber+=e.target.value,a.handleDisplays(a.currentNumber),a.operandStatus=!1}),_defineProperty(this,"calculation",function(e){console.log("calculation-operand:",e);var r=a.numbersHistory[0],t=a.numbersHistory[1];if(console.log("firstNumber:",r),console.log("secondNumber:",t),!0===a.operandStatus&&1<a.numbersHistory.length){switch(console.log("operand-after:",e),e){case"+":a.resultOfTwoNumbers=r+t,a.handleDisplays(a.resultOfTwoNumbers);break;case"-":a.resultOfTwoNumbers=r-t,a.handleDisplays(a.resultOfTwoNumbers);break;case"*":a.resultOfTwoNumbers=r*t,a.handleDisplays(a.resultOfTwoNumbers);break;case"/":a.resultOfTwoNumbers=r/t,a.handleDisplays(a.resultOfTwoNumbers);break;case"%":a.resultOfTwoNumbers=r/100*t,a.handleDisplays(a.resultOfTwoNumbers);break;case"+-":1===Math.sign(a.display.value)?(a.display.value=-Math.abs(a.display.value),console.log("this.display.value:",a.display.value),a.historyDisplay.value=a.display.value,a.numbersHistory=a.display.value):(a.display.value=Math.abs(a.display.value),a.historyDisplay.value=a.display.value),a.totalCharactersHistory.splice(a.totalCharactersHistory.length-1,1,a.display.value),a.operandStatus=!1;break;default:console.log("no prerand error")}1<a.numbersHistory.length?a.numbersHistory.splice(0,2,a.resultOfTwoNumbers):a.numbersHistory=a.numbersHistory}}),_defineProperty(this,"handleOperators",function(e){"C"===e.target.value?a.clear():(a.operand=e.target.value,a.operandsHistoryHandle(a.operand),a.numbersHistoryHandle(),a.currentNumber="",1<a.operandsHistory.length&&"%"!==a.operand&&"%"!==a.operandsHistory[a.operandsHistory.length-2]?(console.log("fired"),a.calculation(a.operandsHistory[a.operandsHistory.length-2])):a.calculation(a.operand));var r=a.totalCharactersHistory;"number"==typeof r[r.length-1]?"+-"!==a.operand&&r.push(a.operand):"%"===a.operandsHistory[a.operandsHistory.length-2]?(r.splice(r.length-1,1,a.operand),a.totalCharactersHistory=[a.resultOfTwoNumbers,a.operand]):r.splice(r.length-1,1,a.operand),a.handleDisplays(),console.log("operand:",a.operand),console.log("calky:",t)}),_defineProperty(this,"handleButtons",function(e){}),_defineProperty(this,"handleDisplays",function(e,r){a.historyDisplay.value=a.totalCharactersHistory.toString().replace(/,/g," "),void 0!==e&&(a.display.value=e)}),_defineProperty(this,"clear",function(){a.currentNumber="",a.resultOfTwoNumbers=0,a.operand="",a.operandsHistory=[],a.displayHistory=[],a.numbersHistory=[],a.totalCharactersHistory=[],a.historyDisplay.value=0,a.display.value=0}),this.currentNumber="",this.resultOfTwoNumbers=0,this.operand="",this.operandStatus=!1,this.operandsHistory=[],this.displayHistory=[],this.numbersHistory=[],this.totalCharactersHistory=[],this.historyDisplay=document.getElementById("history"),this.display=document.getElementById("main"),this.display.value=0},r=document.querySelectorAll("button"),a=document.querySelectorAll(".number"),n=document.querySelectorAll(".operator"),o=_createForOfIteratorHelper(r);try{for(o.s();!(e=o.n()).done;){e.value.addEventListener("click",function(e){return t.handleButtons(e)})}}catch(e){o.e(e)}finally{o.f()}var s,l=_createForOfIteratorHelper(a);try{for(l.s();!(s=l.n()).done;){s.value.addEventListener("click",function(e){return t.handleNumbers(e)})}}catch(e){l.e(e)}finally{l.f()}var i,u=_createForOfIteratorHelper(n);try{for(u.s();!(i=u.n()).done;){i.value.addEventListener("click",function(e){return t.handleOperators(e)})}}catch(e){u.e(e)}finally{u.f()}}();