"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(){var s=new function e(){var o=this;_classCallCheck(this,e),_defineProperty(this,"numbersHistoryHandle",function(e){""!==o.currentNumber?(o.numbersHistory.push(Number(o.currentNumber)),o.totalCharactersHistory.push(Number(o.currentNumber))):!1===o.operandStatus&&o.numbersHistory.push(0)}),_defineProperty(this,"operandsHistoryHandle",function(e){o.operandsHistory.push(e),"o"!==e&&(o.operandStatus=!0)}),_defineProperty(this,"handleNumbers",function(e){o.currentNumber+=e.target.value,o.handleDisplays(o.currentNumber),o.operandStatus=!1}),_defineProperty(this,"calculation",function(e){console.log("calculation-operand:",e);var r=o.numbersHistory[0],t=o.numbersHistory[1];if(console.log("firstNumber:",r),console.log("secondNumber:",t),!0===o.operandStatus&&1<o.numbersHistory.length||"o"===e){switch(console.log("true"),console.log("operand-after:",e),e){case"+":o.resultOfTwoNumbers=r+t,o.handleDisplays(o.resultOfTwoNumbers);break;case"-":o.resultOfTwoNumbers=r-t,o.handleDisplays(o.resultOfTwoNumbers);break;case"*":0!==t&&(o.resultOfTwoNumbers=r*t,o.handleDisplays(o.resultOfTwoNumbers));break;case"/":0!==t&&(o.resultOfTwoNumbers=r/t,o.handleDisplays(o.resultOfTwoNumbers));break;case"%":o.resultOfTwoNumbers=r/100*t,o.handleDisplays(o.resultOfTwoNumbers);break;case"o":1===Math.sign(o.display.value)?(o.display.value=-Math.abs(o.display.value),console.log("bolek == this.display.value:",o.display.value),o.historyDisplay.value=o.display.value):(o.display.value=Math.abs(o.display.value),console.log("lolek == this.display.value:",o.display.value)),1<o.numbersHistory.length?o.numbersHistory[1]=Number(o.display.value):o.numbersHistory[0]=Number(o.display.value),_typeof(o.totalCharactersHistory.length)-1!=="number"&&o.totalCharactersHistory.splice(o.totalCharactersHistory.length-1,1,Number(o.display.value)),o.operandStatus=!1;break;default:console.log("no operand error")}1<o.numbersHistory.length&&"o"!==e?(console.log("kutas2"),o.numbersHistory.splice(0,2,o.resultOfTwoNumbers)):(o.numbersHistory=o.numbersHistory,console.log("this.numbersHistory:",o.numbersHistory))}}),_defineProperty(this,"handleOperators",function(e){"C"===e.target.value?o.clear():(o.operand=e.target.value,o.operandsHistoryHandle(o.operand),o.numbersHistoryHandle(),o.currentNumber="",console.log("operand-status: ",o.operandStatus),"%"===o.operand||!0===o.operandStatus&&1<o.operandsHistory.length&&"o"===o.operandsHistory[o.operandsHistory.length-2]&&"="!==o.operand?(console.log("triger-1"),o.calculation(o.operandsHistory[o.operandsHistory.length-1])):!0===o.operandStatus&&1<o.operandsHistory.length&&"%"!==o.operand&&"%"!==o.operandsHistory[o.operandsHistory.length-2]||"o"!==o.operand||"="===o.operand||!1===o.operandStatus&&"="===o.operand?(console.log("triger-2"),o.calculation(o.operandsHistory[o.operandsHistory.length-2])):(console.log("triger-0"),o.calculation(o.operand)));var r=o.totalCharactersHistory,t=r[0];"number"==typeof r[r.length-1]?"o"!==o.operand&&r.push(o.operand):"%"===o.operandsHistory[o.operandsHistory.length-2]?(r.splice(r.length-1,1,o.operand),0!==o.resultOfTwoNumbers&&(o.totalCharactersHistory=[o.resultOfTwoNumbers,o.operand])):r.splice(r.length-1,1,o.operand),"number"!=typeof t&&r.splice(0,1),o.handleDisplays(),console.log("operand:",o.operand),console.log("calky:",s)}),_defineProperty(this,"handleDisplays",function(e,r){o.historyDisplay.value=o.totalCharactersHistory.toString().replace(/,/g," "),void 0!==e&&(o.display.value=e)}),_defineProperty(this,"clear",function(){o.currentNumber="",o.resultOfTwoNumbers=0,o.operand="",o.operandsHistory=[],o.displayHistory=[],o.numbersHistory=[],o.totalCharactersHistory=[],o.historyDisplay.value=0,o.display.value=0}),this.currentNumber="",this.resultOfTwoNumbers=0,this.operand="",this.operandStatus=!1,this.operandsHistory=[],this.displayHistory=[],this.numbersHistory=[],this.totalCharactersHistory=[],this.numberButtons=document.querySelectorAll(".number"),this.operatorButtons=document.querySelectorAll(".operator"),this.numberButtons.forEach(function(e){return e.addEventListener("click",function(e){return o.handleNumbers(e)})}),this.operatorButtons.forEach(function(e){return e.addEventListener("click",function(e){return o.handleOperators(e)})}),this.historyDisplay=document.getElementById("history"),this.display=document.getElementById("main"),this.display.value=0}}();